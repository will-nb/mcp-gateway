# mcp-gateway

## MCP-Gateway 项目简介

**mcp-gateway** 是一个 **多能力处理平台（MCP）与 AI 网关服务**，
旨在将多种 AI 模型、数据处理能力、第三方 API 服务整合在统一的接口下，
为上层应用提供**一站式智能处理与响应能力**。

它不仅是一个多后端 AI 调度器，更是一个具备数据采集、处理、分析、生成的综合性平台。

---

### 项目定位

* **多后端 AI 网关**：统一管理不同供应商与协议的 AI 模型调用。
* **多功能处理平台（MCP）**：整合 OCR、翻译、NLP、Python 脚本执行、第三方数据接口等能力。
* **智能任务编排中心**：可根据需求动态组合调用多个能力模块，实现复杂任务的自动化处理。

---

### 核心能力

#### 1. 多后端 AI 路由

* 支持 **OpenAI、Claude、Gemini、本地模型（LocalAI/Ollama）** 等不同后端。
* 根据 `model` 参数自动匹配调用目标，屏蔽底层调用差异。
* 支持同步调用与流式输出。

#### 2. 语义缓存与向量检索

* 使用 **Qdrant 向量数据库（v1.15.1）** 存储历史请求与结果。
* 向量相似度匹配减少重复推理，降低成本与延迟。

#### 3. 多模态数据处理

* **OCR 扫描识别**：

  * 集成 **Tesseract**，支持多语言文本识别。
  * 可直接处理 PDF、图片等非结构化输入。
* **自动翻译**：

  * 调用 AI 模型或第三方翻译 API（如 DeepL、Google Translate）。
  * 支持多语言双向转换。
* **自然语言处理（NLTK / spaCy）**：

  * 分词、词性标注、关键词提取、情感分析等。
* **Python 脚本执行**：

  * 支持运行自定义脚本进行数据转换、计算、统计分析。

#### 4. 第三方 API 集成

* 支持接入外部信息源（金融数据、天气、新闻、公司信息等）。
* 支持 REST/gRPC/WebSocket 等多种协议。

#### 5. 复杂任务处理

* 按任务需求动态编排多个功能模块：

  * 例：扫描文件 → 文字提取 → 翻译 → 情感分析 → 生成总结。
* 可在一次 API 调用中完成多步处理并返回最终结果。

---

### 技术栈

* **语言与框架**：Python 3.11 + FastAPI
* **向量数据库**：Qdrant（本地/云部署）
* **OCR**：Tesseract（多语言支持）
* **NLP**：NLTK / spaCy
* **缓存与队列**：Redis
* **部署**：

  * 本地：Docker + Colima（MongoDB / Redis / Qdrant）
  * 线上：Fly.io（支持内网通信）

---

### 项目特点

* **模块化设计**：功能模块可独立开发、扩展与组合。
* **高可扩展性**：新增 AI 模型或第三方 API 仅需注册路由与处理器。
* **跨模态支持**：处理文字、图片、文档等多种数据类型。
* **低延迟**：本地语义缓存 + 最近最少使用（LRU）策略。
* **跨地域部署**：支持香港、新加坡等多数据中心互通。

---

### 当前进度

✅ 本地开发环境（Docker + Colima）
✅ Qdrant 部署与 API 测试
✅ 依赖管理（requirements.txt 精简版）
✅ Dockerfile / docker-compose / fly.toml 配置
🔜 多后端 AI 调度模块
🔜 语义缓存与 OCR 集成
🔜 NLP 处理与翻译服务
🔜 复杂任务编排与统一 API
